<?php
return unserialize("a:5:{i:0;a:1:{i:0;a:1:{i:0;a:5:{i:0;s:33:\"tcpfunc_5abfcf2f081460.93392309_1\";i:1;a:0:{}i:2;i:1;i:3;s:0:\"\";i:4;s:0:\"\";}}}i:1;a:0:{}i:2;s:5:\"staff\";i:3;N;i:4;a:1:{s:33:\"tcpfunc_5abfcf2f081460.93392309_1\";s:24508:\"\$tpl_funcs['tcpfunc_5abfcf2f081460.93392309_1']=\$KEEP_TPL_FUNCS['tcpfunc_5abfcf2f081460.93392309_1']=recall_named_function('5abfcf2f0815a9.16711887','\$parameters,\$cl',\"extract(\\\$parameters,EXTR_PREFIX_ALL,'bound'); echo \\\"\\\\\\\"use strict\\\\\\\";\\\\n\\\\nfunction script_load_stuff_staff()\\\\n{\\\\n	// Navigation loading screen\\\\n	\\\",\\n	(\\\"\\\\n		if ((window.parent==window) && ((window.location+'').indexOf('js_cache=1')==-1) && (((window.location+'').indexOf('/cms/')!=-1) || ((window.location+'').indexOf('/adminzone/')!=-1)))\\\\n			add_event_listener_abstract(window,'beforeunload',function() { staff_unload_action(); });\\\\n	\\\"),\\n	\\\"\\\\n\\\\n	// Theme image editing hovers\\\\n	var map,elements,i,j;\\\\n	for (i=0;i<document.images.length;i++)\\\\n	{\\\\n		map=document.images[i].getAttribute('usemap');\\\\n		if (map)\\\\n		{\\\\n			elements=document.getElementsByTagName('area');\\\\n			for (j=0;j<elements.length;j++)\\\\n			{\\\\n				if (!elements[j].onclick)\\\\n				{\\\\n					elements[j].src=document.images[i].src;\\\\n					add_event_listener_abstract(elements[j],'click',handle_image_click,false,true);\\\\n				}\\\\n			}\\\\n		}\\\\n		if (document.images[i].className.indexOf('no_theme_img_click')==-1)\\\\n		{\\\\n			add_event_listener_abstract(document.images[i],'mouseover',handle_image_mouse_over,false);\\\\n			add_event_listener_abstract(document.images[i],'mouseout',handle_image_mouse_out,false);\\\\n			add_event_listener_abstract(document.images[i],'click',handle_image_click,false,true);\\\\n		}\\\\n	}\\\\n	var inputs=document.getElementsByTagName('input');\\\\n	for (i=0;i<inputs.length;i++)\\\\n	{\\\\n		if ((inputs[i].className.indexOf('no_theme_img_click')==-1) && (inputs[i].type=='image'))\\\\n		{\\\\n			add_event_listener_abstract(inputs[i],'mouseover',handle_image_mouse_over,false);\\\\n			add_event_listener_abstract(inputs[i],'mouseout',handle_image_mouse_out,false);\\\\n			add_event_listener_abstract(inputs[i],'click',handle_image_click,false,true);\\\\n		}\\\\n	}\\\\n	var all_e=document.getElementsByTagName('*');\\\\n	var bg;\\\\n	for (i=0;i<all_e.length;i++)\\\\n	{\\\\n		bg=abstract_get_computed_style(all_e[i],'background-image');\\\\n		if ((all_e[i].className.indexOf('no_theme_img_click')==-1) && (bg!='none') && (bg.indexOf('url')!=-1))\\\\n		{\\\\n			add_event_listener_abstract(all_e[i],'mouseover',handle_image_mouse_over,false);\\\\n			add_event_listener_abstract(all_e[i],'mouseout',handle_image_mouse_out,false);\\\\n			add_event_listener_abstract(all_e[i],'click',handle_image_click,false,false);\\\\n		}\\\\n	}\\\\n\\\\n	// Local caching for improved perceived performance\\\\n	var has_local_storage=false;\\\\n	try\\\\n	{\\\\n		has_local_storage=(typeof window.localStorage!='undefined');\\\\n	}\\\\n	catch (e) { }\\\\n	if ((has_local_storage) && (''=='1') && (!window.unloaded) && (!browser_matches('gecko')/*Far too slow*/) && (!browser_matches('ie')/*Big problems loading script with sanity in document.write*/))\\\\n	{\\\\n		var html=get_inner_html(document.documentElement,true);\\\\n		if ((html.length<1024*256) && (!document.getElementById('login_username')) && (document.title!='Preloading')) // Do not save more than 256kb\\\\n		{\\\\n			// Saving\\\\n			local_page_caching(html);\\\\n		}\\\\n\\\\n		// Alter any <a> links so that local ones to cached URLs are handled nicely\\\\n		promote_page_caching();\\\\n	}\\\\n\\\\n	// Contextual CSS editor\\\\n	contextual_css_edit();\\\\n	window.setTimeout(contextual_css_edit,2000); // For frames\\\\n\\\\n	// Thumbnail tooltips\\\\n	var url_patterns=[\\\\n		\\\",\\n	closure_loop(array(\\\"URL_PATTERNS\\\",'vars'=>\\\$parameters),array(\\\$parameters,\\\$cl),\\nrecall_named_function('5abfcf2f078951.08451414','\\\$parameters,\\\$cl',\\\"extract(\\\\\\\$parameters,EXTR_PREFIX_ALL,'bound'); return \\\\\\\"\\\\\\\\n			\\\\\\\".(((((otp(isset(\\\\\\\$bound__loop_key)?\\\\\\\$bound__loop_key:null,\\\\\\\"_loop_key/staff\\\\\\\"))!=(\\\\\\\"0\\\\\\\"))?\\\\\\\"1\\\\\\\":\\\\\\\"0\\\\\\\")==\\\\\\\"1\\\\\\\")?(\\\\\\\",\\\\\\\"):'').\\\\\\\"\\\\\\\\n			{\\\\\\\\n				pattern: /^\\\\\\\".ecv_REPLACE(\\\\\\\$cl,array(),array(\\\\\\\"_WILD\\\\\\\",\\\\\\\"([^&]*)\\\\\\\",ecv_REPLACE(\\\\\\\$cl,array(),array(\\\\\\\"_WILD\\\\\\\\\\\\\\\\/\\\\\\\",\\\\\\\"([^&]*)\\\\\\\\\\\\\\\\/?\\\\\\\",ecv_REPLACE(\\\\\\\$cl,array(),array(\\\\\\\"?\\\\\\\",\\\\\\\"\\\\\\\\\\\\\\\\?\\\\\\\",ecv_REPLACE(\\\\\\\$cl,array(),array(\\\\\\\"/\\\\\\\",\\\\\\\"\\\\\\\\\\\\\\\\/\\\\\\\",otp(isset(\\\\\\\$bound_PATTERN)?\\\\\\\$bound_PATTERN:null,\\\\\\\"PATTERN/staff\\\\\\\"))))))))).\\\\\\\"/\\\\\\\".\\\\\\\",\\\\\\\".\\\\\\\"\\\\\\\\n				hook: '\\\\\\\".otp(isset(\\\\\\\$bound_HOOK)?\\\\\\\$bound_HOOK:null,\\\\\\\"HOOK/staff\\\\\\\").\\\\\\\"'\\\\\\\\n			\\\\\\\".\\\\\\\"}\\\\\\\".\\\\\\\"\\\\\\\\n		\\\\\\\";\\\")),\\n	\\\"\\\\n	];\\\\n	var cells=document.getElementsByTagName('td');\\\\n	var links=[];\\\\n	if (window.location.href.replace('','').indexOf('/cms/')!=-1\\\",\\n	((ecv_DEV_MODE(\\\$cl,array(),array())==\\\"1\\\")?(\\\" || true\\\"):''),\\n	\\\")\\\\n	{\\\\n		for (var i=0;i<cells.length;i++)\\\\n		{\\\\n			var as=cells[i].getElementsByTagName('a');\\\\n			for (var j=0;j<as.length;j++)\\\\n			{\\\\n				links.push(as[j]);\\\\n			}\\\\n		}\\\\n	}\\\\n	for (var i=0;i<links.length;i++)\\\\n	{\\\\n		for (var j=0;j<url_patterns.length;j++)\\\\n		{\\\\n			var url_pattern=url_patterns[j].pattern,hook=url_patterns[j].hook;\\\\n\\\\n			if ((links[i].href) && (!links[i].onmouseover))\\\\n			{\\\\n				var id=links[i].href.match(url_pattern);\\\\n				if (id)\\\\n				{\\\\n					apply_comcode_tooltip(hook,id,links[i]);\\\\n				}\\\\n			}\\\\n		}\\\\n	}\\\\n}\\\\n\\\\nfunction apply_comcode_tooltip(hook,id,link)\\\\n{\\\\n	add_event_listener_abstract(link,'mouseout',function(event) {\\\\n		if (typeof event=='undefined') event=window.event;\\\\n		if (typeof window.deactivate_tooltip!='undefined') deactivate_tooltip(link);\\\\n	});\\\\n	add_event_listener_abstract(link,'mousemove',function(event) {\\\\n		if (typeof event=='undefined') event=window.event;\\\\n		if (typeof window.activate_tooltip!='undefined') reposition_tooltip(link,event,false,false,null,true);\\\\n	});\\\\n	add_event_listener_abstract(link,'mouseover',function(event) {\\\\n		if (typeof event=='undefined') event=window.event;\\\\n\\\\n		if (typeof window.activate_tooltip!='undefined')\\\\n		{\\\\n			var id_chopped=id[1];\\\\n			if (typeof id[2]!='undefined') id_chopped+=':'+id[2];\\\\n			var comcode='[block=\\\\\\\"'+hook+'\\\\\\\" id=\\\\\\\"'+window.decodeURIComponent(id_chopped)+'\\\\\\\" no_links=\\\\\\\"1\\\\\\\"]main_content[/block]';\\\\n			if (typeof link.rendered_tooltip=='undefined')\\\\n			{\\\\n				link.is_over=true;\\\\n\\\\n				var request=do_ajax_request(maintain_theme_in_link('\\\",\\n	ecv_FIND_SCRIPT_NOHTTP(\\\$cl,array(2),array(\\\"comcode_convert\\\")),\\n	\\\"?css=1&javascript=1&raw_output=1&box_title=\\\",\\n	ecv(\\\$cl,array(2,6),2,\\\"PREVIEW\\\",array()),\\n	\\\"'+keep_stub(false)),function(ajax_result_frame) {\\\\n					if (ajax_result_frame && ajax_result_frame.responseText)\\\\n					{\\\\n						link.rendered_tooltip=ajax_result_frame.responseText;\\\\n					}\\\\n					if (typeof link.rendered_tooltip!='undefined')\\\\n					{\\\\n						if (link.is_over)\\\\n							activate_tooltip(link,event,link.rendered_tooltip,'400px',null,null,false,false,false,true);\\\\n					}\\\\n				},'data='+window.encodeURIComponent(comcode));\\\\n			} else\\\\n			{\\\\n				activate_tooltip(link,event,link.rendered_tooltip,'400px',null,null,false,false,false,true);\\\\n			}\\\\n		}\\\\n	});\\\\n};\\\\n\\\\nfunction local_page_caching(html)\\\\n{\\\\n	var loc=(window.location+'').replace(/&js_cache=1&/,'&').replace(/&js_cache=1\\\\\\\$/,'').replace(/\\\\\\\\?js_cache=1&/,'?').replace(/\\\\\\\\?js_cache=1\\\\\\\$/,'');\\\\n	var now=new Date().getTime();\\\\n	var count=0;\\\\n	try\\\\n	{\\\\n		if ((typeof localStorage[loc]!='undefined') && (localStorage[loc]))\\\\n			count=JSON.parse(localStorage[loc])[1];\\\\n		localStorage[loc]=JSON.stringify([html,count+1,now,window.page_data_hash]);\\\\n	}\\\\n	catch (e) // Do not want privacy settings or whatever causing visible JS errors\\\\n	{\\\\n		if ((e.name=='QUOTA_EXCEEDED_ERR') && (localStorage.length!=0))\\\\n		{\\\\n			// Need to free some space, delete the oldest\\\\n			var best_date_so_far=null,best_id=null,keyat,parsed;\\\\n			for (var i=0;i<localStorage.length;i++)\\\\n			{\\\\n				try\\\\n				{\\\\n					keyat=localStorage.key(i);\\\\n					parsed=JSON.parse(localStorage[keyat]);\\\\n					if ((best_date_so_far==null) || (parsed[2]<best_date_so_far))\\\\n					{\\\\n						best_date_so_far=parsed[2];\\\\n						best_id=keyat;\\\\n					}\\\\n				} catch (e) {} // Maybe not JSON\\\\n			}\\\\n\\\\n			if (best_id)\\\\n			{\\\\n				localStorage.removeItem(best_id);\\\\n\\\\n				// Try again\\\\n				local_page_caching(html);\\\\n			}\\\\n		}\\\\n	}\\\\n}\\\\n\\\\nfunction contextual_css_edit()\\\\n{\\\\n	var spt=document.getElementById('spacer_1'),css_option,i,l,sheet;\\\\n	if (!spt) return;\\\\n	var possibilities=find_css_sheets(window);\\\\n	for (i=0;i<possibilities.length;i++)\\\\n	{\\\\n		sheet=possibilities[i];\\\\n		if (!document.getElementById('opt_for_sheet_'+sheet))\\\\n		{\\\\n			css_option=document.createElement('option');\\\\n			set_inner_html(css_option,((sheet=='global')?'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"CONTEXTUAL_CSS_EDITING_GLOBAL\\\",array()),\\n	\\\"':'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"CONTEXTUAL_CSS_EDITING\\\",array()),\\n	\\\"').replace('{1}',escape_html(sheet+'.css')));\\\\n			css_option.value=sheet+'.css';\\\\n			css_option.id='opt_for_sheet_'+sheet;\\\\n			if (find_active_selectors(sheet,window).length!=0)\\\\n				spt.appendChild(css_option);\\\\n		}\\\\n	}\\\\n}\\\\n\\\\nfunction find_css_sheets(win)\\\\n{\\\\n	var possibilities=[],sheet,i,j,k,ok;\\\\n	try\\\\n	{\\\\n		if (typeof window.cms_theme=='undefined') window.cms_theme='BeatGrid_CSM';\\\\n		if (typeof window.cms_lang=='undefined') window.cms_lang='EN';\\\\n		if ((typeof win.document.querySelectorAll!='undefined') && (typeof window.cms_lang!='undefined') && (typeof window.cms_theme!='undefined'))\\\\n		{\\\\n			for (i=0;i<win.document.styleSheets.length;i++)\\\\n			{\\\\n				try\\\\n				{\\\\n					if (!win.document.styleSheets[i].href)\\\\n					{\\\\n						sheet='no_cache';\\\\n						possibilities.push(sheet);\\\\n					} else\\\\n					{\\\\n						var l=win.document.styleSheets[i].href.lastIndexOf('/templates_cached/'+window.cms_lang+'/');\\\\n						if ((l!=-1) && (win.document.styleSheets[i].href.indexOf('merged__')==-1))\\\\n						{\\\\n							sheet=win.document.styleSheets[i].href.substring(l+('/templates_cached/'+window.cms_lang+'/').length,win.document.styleSheets[i].href.length).replace('_non_minified','').replace('_ssl','').replace('_mobile','').replace(/\\\\\\\\?\\\\\\\\d+/,'').replace('.css','');\\\\n							possibilities.push(sheet);\\\\n						} else {\\\\n							l=win.document.styleSheets[i].href.lastIndexOf('/sheet.php?sheet=');\\\\n							if (l!=-1)\\\\n							{\\\\n								var amp_pos=win.document.styleSheets[i].href.indexOf('&');\\\\n								if (amp_pos==-1)\\\\n								{\\\\n									sheet=win.document.styleSheets[i].href.substring(l+'/sheet.php?sheet='.length,win.document.styleSheets[i].href.length);\\\\n								} else\\\\n								{\\\\n									sheet=win.document.styleSheets[i].href.substring(l+'/sheet.php?sheet='.length,amp_pos);\\\\n								}\\\\n								possibilities.push(sheet);\\\\n							}\\\\n						}\\\\n					}\\\\n				}\\\\n				catch (e) {}\\\\n			}\\\\n\\\\n			for (i=0;i<win.frames.length;i++)\\\\n			{\\\\n				if (win.frames[i]) // If test needed for some browsers, as window.frames can get out-of-date\\\\n				{\\\\n					var result2=find_css_sheets(win.frames[i]);\\\\n					for (j=0;j<result2.length;j++)\\\\n					{\\\\n						ok=true;\\\\n						for (k=0;k<possibilities.length;k++)\\\\n						{\\\\n							if (possibilities[k]==result2[j]) ok=false;\\\\n						}\\\\n						if (ok) possibilities.push(result2[j]);\\\\n					}\\\\n				}\\\\n			}\\\\n		}\\\\n	}\\\\n	catch (e) {}\\\\n\\\\n	return possibilities;\\\\n}\\\\n\\\\nfunction find_active_selectors(match,win)\\\\n{\\\\n	var test,selector,selectors=[],classes,i,j,result2;\\\\n	try\\\\n	{\\\\n		for (i=0;i<win.document.styleSheets.length;i++)\\\\n		{\\\\n			try\\\\n			{\\\\n				if ((!match) || (!win.document.styleSheets[i].href && ((win.document.styleSheets[i].ownerNode && win.document.styleSheets[i].ownerNode.id=='style_for_'+match) || (!win.document.styleSheets[i].ownerNode && win.document.styleSheets[i].id=='style_for_'+match))) || (win.document.styleSheets[i].href && win.document.styleSheets[i].href.indexOf('/'+match)!=-1) || (win.document.styleSheets[i].href && win.document.styleSheets[i].href.indexOf('sheet='+match)!=-1))\\\\n				{\\\\n					classes=win.document.styleSheets[i].rules || win.document.styleSheets[i].cssRules;\\\\n					for (j=0;j<classes.length;j++)\\\\n					{\\\\n						selector=classes[j].selectorText;\\\\n						test=win.document.querySelectorAll(selector);\\\\n						if (test.length!=0) selectors.push(classes[j]);\\\\n					}\\\\n				}\\\\n			}\\\\n			catch (e) { }\\\\n		}\\\\n	}\\\\n	catch (e) { }\\\\n\\\\n	for (i=0;i<win.frames.length;i++)\\\\n	{\\\\n		if (win.frames[i]) // If test needed for some browsers, as window.frames can get out-of-date\\\\n		{\\\\n			result2=find_active_selectors(match,win.frames[i]);\\\\n			for (var j=0;j<result2.length;j++) selectors.push(result2[j]);\\\\n		}\\\\n	}\\\\n\\\\n	return selectors;\\\\n}\\\\n\\\\nfunction promote_page_caching()\\\\n{\\\\n	for (var i=0;i<document.links.length;i++)\\\\n	{\\\\n		if ((typeof document.links[i]!='undefined') && (typeof localStorage[document.links[i].href]!='undefined') && (localStorage[document.links[i].href]))\\\\n		{\\\\n			document.links[i].href+=((document.links[i].href.indexOf('?')==-1)?'?':'&')+'js_cache=1';\\\\n		}\\\\n	}\\\\n}\\\\n\\\\nfunction handle_image_mouse_over(event)\\\\n{\\\\n	if (typeof window.cms_theme=='undefined') window.cms_theme='BeatGrid_CSM';\\\\n	if (typeof window.cms_lang=='undefined') window.cms_lang='EN';\\\\n	if (typeof window.cms_theme=='undefined') return;\\\\n\\\\n	var target=event.target || event.srcElement;\\\\n	if (target.previousSibling && (typeof target.previousSibling.className!='undefined') && (typeof target.previousSibling.className.indexOf!='undefined') && (target.previousSibling.className.indexOf('magic_image_edit_link')!=-1)) return;\\\\n	if (find_width(target)<130) return;\\\\n\\\\n	var src=(typeof target.src=='undefined')?abstract_get_computed_style(target,'background-image'):target.src;\\\\n	if ((typeof target.src=='undefined') && (!event.ctrlKey) && (!event.metaKey) && (!event.altKey)) return; // Needs ctrl key for background images\\\\n	if (src.indexOf('/themes/')==-1) return;\\\\n	if (window.location.href.indexOf('admin_themes')!=-1) return;\\\\n\\\\n	\\\",\\n	(\\\"\\\\n		// Remove other edit links\\\\n		var old=get_elements_by_class_name(document,'magic_image_edit_link');\\\\n		for (var i=old.length-1;i>=0;i--)\\\\n		{\\\\n			old[i].parentNode.removeChild(old[i]);\\\\n		}\\\\n\\\\n		// Add edit button\\\\n		var ml=document.createElement('input');\\\\n		ml.onclick=function(event) { handle_image_click(event,target,true,true); };\\\\n		ml.type='button';\\\\n		ml.id='editimg_'+target.id;\\\\n		ml.value='\\\".ecv(\\\$cl,array(2,8),2,\\\"themes:EDIT_THEME_IMAGE\\\",array()).\\\"';\\\\n		ml.className='magic_image_edit_link button_micro';\\\\n		ml.style.position='absolute';\\\\n		ml.style.left=find_pos_x(target)+'px';\\\\n		ml.style.top=find_pos_y(target)+'px';\\\\n		ml.style.zIndex=3000;\\\\n		ml.style.display='none';\\\\n		target.parentNode.insertBefore(ml,target);\\\\n\\\\n		if (target.mo_link)\\\\n			window.clearTimeout(target.mo_link);\\\\n		target.mo_link=window.setTimeout(function() {\\\\n			if (ml) ml.style.display='block';\\\\n		} , 2000);\\\\n	\\\"),\\n	\\\"\\\\n\\\\n	window.old_status_img=window.status;\\\\n	window.status='\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"SPECIAL_CLICK_TO_EDIT\\\",array()),\\n	\\\"';\\\\n}\\\\n\\\\nfunction handle_image_mouse_out(event)\\\\n{\\\\n	if (typeof event=='undefined') event=window.event;\\\\n\\\\n	var target=event.target || event.srcElement;\\\\n\\\\n	\\\",\\n	(\\\"\\\\n		if (target.previousSibling && (typeof target.previousSibling.className!='undefined') && (typeof target.previousSibling.className.indexOf!='undefined') && (target.previousSibling.className.indexOf('magic_image_edit_link')!=-1))\\\\n		{\\\\n			if ((typeof target.mo_link!='undefined') && (target.mo_link)) // Clear timed display of new edit button\\\\n			{\\\\n				window.clearTimeout(target.mo_link);\\\\n				target.mo_link=null;\\\\n			}\\\\n\\\\n			// Time removal of edit button\\\\n			if (target.mo_link)\\\\n				window.clearTimeout(target.mo_link);\\\\n			target.mo_link=window.setTimeout(function() {\\\\n				if ((typeof target.edit_window=='undefined') || (!target.edit_window) || (target.edit_window.closed))\\\\n				{\\\\n					if (target.previousSibling && (typeof target.previousSibling.className!='undefined') && (typeof target.previousSibling.className.indexOf!='undefined') && (target.previousSibling.className.indexOf('magic_image_edit_link')!=-1))\\\\n						target.parentNode.removeChild(target.previousSibling);\\\\n				}\\\\n			} , 3000);\\\\n		}\\\\n	\\\"),\\n	\\\"\\\\n\\\\n	if (typeof window.old_status_img=='undefined') window.old_status_img='';\\\\n	window.status=window.old_status_img;\\\\n}\\\\n\\\\nfunction handle_image_click(event,ob,force,error_if_not_theme_image)\\\\n{\\\\n	if (typeof event=='undefined') event=window.event;\\\\n	if ((typeof ob=='undefined') || (!ob)) var ob=this;\\\\n\\\\n	var src=ob.origsrc?ob.origsrc:((typeof ob.src=='undefined')?abstract_get_computed_style(ob,'background-image').replace(/.*url\\\\\\\\(['\\\\\\\"]?(.*)['\\\\\\\"]?\\\\\\\\).*/,'\\\\\\\$1'):ob.src);\\\\n	if ((src) && ((force) || (magic_keypress(event))))\\\\n	{\\\\n		if (src.indexOf('/themes/')!=-1)\\\\n		{\\\\n			// Bubbling needs to be stopped because shift+click will open a new window on some lower event handler (in firefox anyway)\\\\n			cancel_bubbling(event);\\\\n\\\\n			if (typeof event.preventDefault!='undefined') event.preventDefault();\\\\n\\\\n			ob.edit_window=window.open('\\\",\\n	ecv_BASE_URL(\\\$cl,array(2),array(\\\"0\\\")),\\n	\\\"/adminzone/index.php?page=admin_themes&type=edit_image&lang='+window.encodeURIComponent(window.cms_lang)+'&theme='+window.encodeURIComponent(window.cms_theme)+'&url='+window.encodeURIComponent(src.replace('\\\",\\n	ecv_BASE_URL(\\\$cl,array(2),array(\\\"0\\\")),\\n	\\\"/',''))+keep_stub(),'edit_theme_image_'+ob.id);\\\\n		}\\\\n		else if (error_if_not_theme_image) window.fauxmodal_alert('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"NOT_THEME_IMAGE\\\",array()),\\n	\\\"');\\\\n\\\\n		return false;\\\\n	}\\\\n\\\\n	return true;\\\\n}\\\\n\\\\nfunction load_software_chat(event)\\\\n{\\\\n	cancel_bubbling(event);\\\\n	if (typeof event.preventDefault!='undefined') event.preventDefault();\\\\n\\\\n	var url='https://kiwiirc.com/client/irc.kiwiirc.com/?nick=';\\\\n	if (typeof window.cms_username!='undefined' && window.cms_username!='admin')\\\\n	{\\\\n		url+=window.encodeURIComponent(window.cms_username.replace(/[^a-zA-Z0-9\\\\\\\\_\\\\\\\\-\\\\\\\\\\\\\\\\\\\\\\\\[\\\\\\\\]{}\\\\\\\\^`|]/g,''));\\\\n	} else\\\\n	{\\\\n		url+=window.encodeURIComponent('BeatGrid CSM'.replace(/[^a-zA-Z0-9\\\\\\\\_\\\\\\\\-\\\\\\\\\\\\\\\\\\\\\\\\[\\\\\\\\]{}\\\\\\\\^`|]/g,''));\\\\n	}\\\\n	url+='#composrcms';\\\\n	var html=' \\\\\\\\\\\\n		<div class=\\\\\\\"software_chat\\\\\\\"> \\\\\\\\\\\\n			<h2>Mutual support neighborhood</h2> \\\\\\\\\\\\n			<ul class=\\\\\\\"spaced_list\\\\\\\">\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"SOFTWARE_CHAT_EXTRA\\\",array()),\\n	\\\"</ul> \\\\\\\\\\\\n			<p class=\\\\\\\"associated_link associated_links_block_group\\\\\\\"><a title=\\\\\\\"Open chat standalone \\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"LINK_NEW_WINDOW\\\",array()),\\n	\\\"\\\\\\\" target=\\\\\\\"_blank\\\\\\\" href=\\\\\\\"'+escape_html(url)+'\\\\\\\">Open chat standalone</a> <a href=\\\\\\\"#\\\\\\\" onclick=\\\\\\\"return load_software_chat(event);\\\\\\\">Hide</a></p> \\\\\\\\\\\\n		</div> \\\\\\\\\\\\n		<iframe class=\\\\\\\"software_chat_iframe\\\\\\\" style=\\\\\\\"border: 0\\\\\\\" src=\\\\\\\"'+escape_html(url)+'\\\\\\\"></iframe> \\\\\\\\\\\\n	'.replace(/\\\\\\\\{1\\\\\\\\}/,escape_html((window.location+'').replace(get_base_url(),'http://baseurl')));\\\\n\\\\n	var box=document.getElementById('software_chat_box');\\\\n	if (box)\\\\n	{\\\\n		box.parentNode.removeChild(box);\\\\n\\\\n		set_opacity(document.getElementById('software_chat_img'),1.0);\\\\n	} else\\\\n	{\\\\n		box=document.createElement('div');\\\\n\\\\n		var width=950;\\\\n		var height=550;\\\\n		box.id='software_chat_box';\\\\n		box.style.width=width+'px';\\\\n		box.style.height=height+'px';\\\\n		box.style.background='#EEE';\\\\n		box.style.color='#000';\\\\n		box.style.padding='5px';\\\\n		box.style.border='3px solid #AAA';\\\\n		box.style.position='absolute';\\\\n		box.style.zIndex=2000;\\\\n		box.style.left=(get_window_width()-width)/2+'px';\\\\n		var top_temp=100;\\\\n		box.style.top=top_temp+'px';\\\\n\\\\n		set_inner_html(box,html);\\\\n		document.body.appendChild(box);\\\\n\\\\n		smooth_scroll(0);\\\\n\\\\n		set_opacity(document.getElementById('software_chat_img'),0.5);\\\\n\\\\n		//window.setTimeout( function() { try { window.frames[window.frames.length-1].documentElement.getElementById('texteditor').focus(); } catch (e) {} } ), 5000);		Unfortunately cannot do, JS security context issue\\\\n	}\\\\n\\\\n	return false;\\\\n}\\\\n\\\\nfunction staff_actions_select(ob)\\\\n{\\\\n	var form;\\\\n\\\\n	var is_form_submit=(ob.nodeName.toLowerCase()=='form');\\\\n	if (is_form_submit)\\\\n	{\\\\n		form=ob;\\\\n		ob=form.elements['special_page_type'];\\\\n	} else\\\\n	{\\\\n		form=ob.form;\\\\n	}\\\\n\\\\n	var val=ob.options[ob.selectedIndex].value;\\\\n	if (val!='view')\\\\n	{\\\\n		if (typeof form.elements['cache']!='undefined')\\\\n			form.elements['cache'].value=(val.substring(val.length-4,val.length)=='.css')?'1':'0';\\\\n		var test=window.open('','cms_dev_tools'+Math.floor(Math.random()*10000),'width=1000,height=700,scrollbars=yes');\\\\n		if (test) form.setAttribute('target',test.name);\\\\n		if (!is_form_submit)\\\\n			form.submit();\\\\n	}\\\\n}\\\\n\\\\nfunction staff_actions_change(ob)\\\\n{\\\\n	var value=ob.options[ob.selectedIndex].value;\\\\n	if (value=='templates' || value=='tree')\\\\n	{\\\\n		/*\\\\n		This is not actually needed, see code in PHP has_caching_for function\\\\n		var hidden=document.createElement('input');\\\\n		hidden.type='hidden';\\\\n		hidden.name='cache_templates';\\\\n		hidden.value='0';\\\\n		ob.form.appendChild(hidden);\\\\n		*/\\\\n	}\\\\n}\\\\n\\\\nfunction set_task_hiding(hide_done)\\\\n{\\\\n	new Image().src='\\\",\\n	ecv_IMG(\\\$cl,array(2),array(\\\"checklist/cross2\\\",\\\"0\\\",\\\"BeatGrid_CSM\\\")),\\n	\\\"';\\\\n	new Image().src='\\\",\\n	ecv_IMG(\\\$cl,array(2),array(\\\"checklist/toggleicon2\\\",\\\"0\\\",\\\"BeatGrid_CSM\\\")),\\n	\\\"';\\\\n\\\\n	var checklist_rows=get_elements_by_class_name(document,'checklist_row'),row_imgs,src;\\\\n	for (var i=0;i<checklist_rows.length;i++)\\\\n	{\\\\n		row_imgs=checklist_rows[i].getElementsByTagName('img');\\\\n		if (hide_done)\\\\n		{\\\\n			src=row_imgs[row_imgs.length-1].getAttribute('src');\\\\n			if (row_imgs[row_imgs.length-1].origsrc) src=row_imgs[row_imgs.length-1].origsrc;\\\\n			if (src && src.indexOf('checklist1')!=-1)\\\\n			{\\\\n				checklist_rows[i].style.display='none';\\\\n				checklist_rows[i].className+=' task_hidden';\\\\n			} else\\\\n			{\\\\n				checklist_rows[i].className=checklist_rows[i].className.replace(/ task_hidden/g,'');\\\\n			}\\\\n		} else\\\\n		{\\\\n			if ((typeof window.fade_transition!='undefined') && (checklist_rows[i].style.display=='none'))\\\\n			{\\\\n				set_opacity(checklist_rows[i],0.0);\\\\n				fade_transition(checklist_rows[i],100,30,4);\\\\n			}\\\\n			checklist_rows[i].style.display='block';\\\\n			checklist_rows[i].className=checklist_rows[i].className.replace(/ task_hidden/g,'');\\\\n		}\\\\n	}\\\\n\\\\n	if (hide_done)\\\\n	{\\\\n		document.getElementById('checklist_show_all_link').style.display='block';\\\\n		document.getElementById('checklist_hide_done_link').style.display='none';\\\\n	} else\\\\n	{\\\\n		document.getElementById('checklist_show_all_link').style.display='none';\\\\n		document.getElementById('checklist_hide_done_link').style.display='block';\\\\n	}\\\\n}\\\\n\\\\nfunction submit_custom_task(form)\\\\n{\\\\n	var new_task=load_snippet('checklist_task_manage','type=add&recur_every='+window.encodeURIComponent(form.elements['recur_every'].value)+'&recur_interval='+window.encodeURIComponent(form.elements['recur_interval'].value)+'&task_title='+window.encodeURIComponent(form.elements['new_task'].value));\\\\n\\\\n	form.elements['recur_every'].value='';\\\\n	form.elements['recur_interval'].value='';\\\\n	form.elements['new_task'].value='';\\\\n\\\\n	set_inner_html(document.getElementById('custom_tasks_go_here'),new_task,true);\\\\n\\\\n	return false;\\\\n}\\\\n\\\\nfunction delete_custom_task(ob,id)\\\\n{\\\\n	load_snippet('checklist_task_manage','type=delete&id='+window.encodeURIComponent(id));\\\\n	ob.parentNode.parentNode.parentNode.style.display='none';\\\\n\\\\n	return false;\\\\n}\\\\n\\\\nfunction mark_done(ob,id)\\\\n{\\\\n	load_snippet('checklist_task_manage','type=mark_done&id='+window.encodeURIComponent(id));\\\\n	ob.onclick=function() { mark_undone(ob,id); };\\\\n	ob.getElementsByTagName('img')[1].setAttribute('src','\\\",\\n	ecv_IMG(\\\$cl,array(2),array(\\\"checklist/checklist1\\\",\\\"0\\\",\\\"BeatGrid_CSM\\\")),\\n	\\\"');\\\\n}\\\\n\\\\nfunction mark_undone(ob,id)\\\\n{\\\\n	load_snippet('checklist_task_manage','type=mark_undone&id='+window.encodeURIComponent(id));\\\\n	ob.onclick=function() { mark_done(ob,id); };\\\\n	ob.getElementsByTagName('img')[1].setAttribute('src','\\\",\\n	ecv_IMG(\\\$cl,array(2),array(\\\"checklist/not_completed\\\",\\\"0\\\",\\\"BeatGrid_CSM\\\")),\\n	\\\"');\\\\n}\\\\n\\\\nfunction staff_block_flip_over(name)\\\\n{\\\\n	var show=document.getElementById(name+'_form');\\\\n	var hide=document.getElementById(name);\\\\n\\\\n	set_display_with_aria(show,(hide.style.display!='none')?'block':'none');\\\\n	set_display_with_aria(hide,(hide.style.display!='none')?'none':'block');\\\\n\\\\n	return false;\\\\n}\\\\n\\\";\");\";}}");

