<?php
return unserialize("a:5:{i:0;a:1:{i:0;a:1:{i:0;a:5:{i:0;s:33:\"tcpfunc_5abfd107a8b6d0.65933906_1\";i:1;a:0:{}i:2;i:1;i:3;s:0:\"\";i:4;s:0:\"\";}}}i:1;a:0:{}i:2;s:8:\"commandr\";i:3;N;i:4;a:1:{s:33:\"tcpfunc_5abfd107a8b6d0.65933906_1\";s:10436:\"\$tpl_funcs['tcpfunc_5abfd107a8b6d0.65933906_1']=\$KEEP_TPL_FUNCS['tcpfunc_5abfd107a8b6d0.65933906_1']=recall_named_function('5abfd107a8b807.40199609','\$parameters,\$cl',\"echo \\\"\\\\\\\"use strict\\\\\\\";\\\\n\\\\nif (typeof window.previous_commands=='undefined')\\\\n{\\\\n	window.previous_commands=[];\\\\n	window.current_command=null;\\\\n}\\\\n\\\\n// Deal with Commandr history\\\\nfunction commandr_handle_history(element,key_code,e)\\\\n{\\\\n	if ((key_code==38) && (window.previous_commands.length>0)) // Up button\\\\n	{\\\\n		cancel_bubbling(e);\\\\n		if (typeof e.preventDefault!='undefined') e.preventDefault();\\\\n\\\\n		if (window.current_command==null)\\\\n		{\\\\n			window.current_command=window.previous_commands.length-1;\\\\n			element.value=window.previous_commands[window.current_command];\\\\n		}\\\\n		else if (window.current_command>0)\\\\n		{\\\\n			window.current_command--;\\\\n			element.value=window.previous_commands[window.current_command];\\\\n		}\\\\n		return false;\\\\n	}\\\\n	else if ((key_code==40) && (window.previous_commands.length>0)) // Down button\\\\n	{\\\\n		cancel_bubbling(e);\\\\n		if (typeof e.preventDefault!='undefined') e.preventDefault();\\\\n\\\\n		if (window.current_command!=null)\\\\n		{\\\\n			if (window.current_command<window.previous_commands.length-1)\\\\n			{\\\\n				window.current_command++;\\\\n				element.value=window.previous_commands[window.current_command];\\\\n			}\\\\n			else\\\\n			{\\\\n				window.current_command=null;\\\\n				element.value='';\\\\n			}\\\\n		}\\\\n		return false;\\\\n	}\\\\n	else\\\\n	{\\\\n		window.current_command=null;\\\\n		return true;\\\\n	}\\\\n}\\\\n\\\\n// Submit an Commandr command\\\\nfunction commandr_form_submission(command,form)\\\\n{\\\\n	// Catch the data being submitted by the form, and send it through XMLHttpRequest if possible. Stop the form submission if this is achieved.\\\\n	// var command=document.getElementById('commandr_command').value;\\\\n\\\\n	if ((window.do_ajax_request) && (typeof window.do_ajax_request!='undefined'))\\\\n	{\\\\n		// Send it through XMLHttpRequest, and append the results.\\\\n		document.getElementById('commandr_command').focus();\\\\n		document.getElementById('commandr_command').disabled=true;\\\\n\\\\n		var post='command='+window.encodeURIComponent(command);\\\\n		post=modsecurity_workaround_ajax(post);\\\\n		do_ajax_request('\\\",\\n	ecv_FIND_SCRIPT(\\\$cl,array(2),array(\\\"commandr\\\")),\\n	\\\"'+keep_stub(true),commandr_command_response,post);\\\\n\\\\n		window.disable_timeout=window.setTimeout( function() {\\\\n			document.getElementById('commandr_command').disabled=false;\\\\n			document.getElementById('commandr_command').focus();\\\\n			if (window.disable_timeout)\\\\n			{\\\\n				window.clearTimeout(window.disable_timeout);\\\\n				window.disable_timeout=null;\\\\n			}\\\\n		} , 5000);\\\\n		window.previous_commands.push(command);\\\\n\\\\n		return false;\\\\n	} else if (typeof form!='undefined')\\\\n	{\\\\n		// Let the form be submitted the old-fashioned way.\\\\n		return modsecurity_workaround(form);\\\\n	}\\\\n}\\\\n\\\\n// Deal with the response to a command\\\\nfunction commandr_command_response(ajax_result_frame,ajax_result)\\\\n{\\\\n	if (window.disable_timeout)\\\\n	{\\\\n		window.clearTimeout(window.disable_timeout);\\\\n		window.disable_timeout=null;\\\\n	}\\\\n\\\\n	document.getElementById('commandr_command').disabled=false;\\\\n	document.getElementById('commandr_command').focus();\\\\n\\\\n	var command=document.getElementById('commandr_command');\\\\n	var command_prompt=document.getElementById('command_prompt');\\\\n	var cl=document.getElementById('commands_go_here');\\\\n	var new_command=document.createElement('div');\\\\n	var past_command_prompt=document.createElement('p');\\\\n	var past_command=document.createElement('div');\\\\n\\\\n	new_command.setAttribute('class','command float_surrounder');\\\\n	past_command_prompt.setAttribute('class','past_command_prompt');\\\\n	past_command.setAttribute('class','past_command');\\\\n\\\\n	if (!ajax_result)\\\\n	{\\\\n		var stderr_text=document.createTextNode('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"commandr:ERROR_NON_TERMINAL\\\",array()),\\n	\\\"\\\\\\\\n\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"INTERNAL_ERROR\\\",array()),\\n	\\\"');\\\\n		var stderr_text_p=document.createElement('p');\\\\n		stderr_text_p.setAttribute('class','error_output');\\\\n		stderr_text_p.appendChild(stderr_text);\\\\n		past_command.appendChild(stderr_text_p);\\\\n\\\\n		new_command.appendChild(past_command);\\\\n		cl.appendChild(new_command);\\\\n\\\\n		command.value='';\\\\n		var cl2=document.getElementById('command_line');\\\\n		cl2.scrollTop=cl2.scrollHeight;\\\\n\\\\n		return;\\\\n	}\\\\n\\\\n	// Deal with the response: add the result to the command_line\\\\n	var method=merge_text_nodes(ajax_result.getElementsByTagName('command')[0].childNodes);\\\\n	var stdcommand=merge_text_nodes(ajax_result.getElementsByTagName('stdcommand')[0].childNodes);\\\\n	var stdhtml=ajax_result.getElementsByTagName('stdhtml')[0].childNodes[0];\\\\n	var stdout=merge_text_nodes(ajax_result.getElementsByTagName('stdout')[0].childNodes);\\\\n	var stderr=merge_text_nodes(ajax_result.getElementsByTagName('stderr')[0].childNodes);\\\\n	var stdnotifications=ajax_result.getElementsByTagName('stdnotifications')[0].childNodes[0];\\\\n\\\\n	var past_command_text=document.createTextNode(method+' \\\\\\\\u2192 ');\\\\n	past_command_prompt.appendChild(past_command_text);\\\\n\\\\n	if (stdnotifications.childNodes.length>0)\\\\n	{\\\\n		// Handle notifications\\\\n		var notifications_block=document.createElement('div');\\\\n		var notification,notification_p,notification_p_text;\\\\n		for (var i=0;i<stdnotifications.childNodes.length;i++)\\\\n		{\\\\n			notification=document.createElement('div');\\\\n			notification.setAttribute('class','commandr_notification');\\\\n			notification_p=document.createElement('p');\\\\n			notification_p_text=document.createTextNode('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"NOTIFICATION_SECTION\\\",array()),\\n	\\\" '+stdnotifications.childNodes[i].getAttribute('section')+'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"NOTIFICATION_TYPE\\\",array()),\\n	\\\" '+stdnotifications.childNodes[i].getAttribute('type'));\\\\n			notification_p.appendChild(notification_p_text);\\\\n			notification.appendChild(notification_p);\\\\n			for (var a=0;a<stdnotifications.childNodes[i].childNodes.length;a++)\\\\n			{\\\\n				notification.appendChild(careful_import_node(stdnotifications.childNodes[i].childNodes[a]));\\\\n			}\\\\n			notifications_block.appendChild(notification);\\\\n		}\\\\n		new_command.appendChild(notifications_block);\\\\n	}\\\\n\\\\n	new_command.appendChild(past_command_prompt);\\\\n\\\\n	if (stdout!='')\\\\n	{\\\\n		// Text-only. Any HTML should've been escaped server-side. Escaping it over here with the DOM getting in the way is too complex.\\\\n		var stdout_text=document.createTextNode(stdout);\\\\n		var stdout_text_p=document.createElement('p');\\\\n		stdout_text_p.setAttribute('class','text_output');\\\\n		stdout_text_p.appendChild(stdout_text);\\\\n		past_command.appendChild(stdout_text_p);\\\\n	}\\\\n\\\\n	if (stdhtml.childNodes)\\\\n	{\\\\n		var child_node,new_child,cloned_node;\\\\n		for (i=0;i<stdhtml.childNodes.length;i++)\\\\n		{\\\\n			child_node=stdhtml.childNodes[i];\\\\n			new_child=careful_import_node(child_node);\\\\n			cloned_node=new_child.cloneNode(true);\\\\n			/*if (typeof past_command.insertAdjacentHTML!='undefined')		Stopped working in Chrome :S\\\\n			{\\\\n				past_command.insertAdjacentHTML('beforeEnd',(typeof cloned_node.xml!='undefined')?cloned_node.xml:get_inner_html(cloned_node,true));\\\\n			} else*/\\\\n			{\\\\n				past_command.appendChild(cloned_node);\\\\n			}\\\\n		}\\\\n	}\\\\n\\\\n	if (stdcommand!='')\\\\n	{\\\\n		// JavaScript commands; eval() them.\\\\n		eval(stdcommand);\\\\n\\\\n		var stdcommand_text=document.createTextNode('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"JAVASCRIPT_EXECUTED\\\",array()),\\n	\\\"');\\\\n		var stdcommand_text_p=document.createElement('p');\\\\n		stdcommand_text_p.setAttribute('class','command_output');\\\\n		stdcommand_text_p.appendChild(stdcommand_text);\\\\n		past_command.appendChild(stdcommand_text_p);\\\\n	}\\\\n\\\\n	if ((stdcommand=='') && (!stdhtml.childNodes) && (stdout==''))\\\\n	{\\\\n		// Exit with an error.\\\\n		if (stderr!='') var stderr_text=document.createTextNode('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"PROBLEM_ACCESSING_RESPONSE\\\",array()),\\n	\\\"\\\\\\\\n'+stderr);\\\\n		else var stderr_text=document.createTextNode('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"TERMINAL_PROBLEM_ACCESSING_RESPONSE\\\",array()),\\n	\\\"');\\\\n		var stderr_text_p=document.createElement('p');\\\\n		stderr_text_p.setAttribute('class','error_output');\\\\n		stderr_text_p.appendChild(stderr_text);\\\\n		past_command.appendChild(stderr_text_p);\\\\n\\\\n		return false;\\\\n	}\\\\n	else if (stderr!='')\\\\n	{\\\\n		var stderr_text=document.createTextNode('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"commandr:ERROR_NON_TERMINAL\\\",array()),\\n	\\\"\\\\\\\\n'+stderr);\\\\n		var stderr_text_p=document.createElement('p');\\\\n		stderr_text_p.setAttribute('class','error_output');\\\\n		stderr_text_p.appendChild(stderr_text);\\\\n		past_command.appendChild(stderr_text_p);\\\\n	}\\\\n\\\\n	new_command.appendChild(past_command);\\\\n	cl.appendChild(new_command);\\\\n\\\\n	command.value='';\\\\n	var cl2=document.getElementById('command_line');\\\\n	cl2.scrollTop=cl2.scrollHeight;\\\\n\\\\n	return true;\\\\n}\\\\n\\\\n// Clear the command line\\\\nfunction clear_cl()\\\\n{\\\\n	// Clear all results from the CL\\\\n	var command_line=document.getElementById('commands_go_here');\\\\n	var elements=get_elements_by_class_name(command_line,'command');\\\\n\\\\n	for (var i=0;i<elements.length;i++)\\\\n	{\\\\n		command_line.removeChild(elements[i]);\\\\n	}\\\\n}\\\\n\\\\n// Fun stuff...\\\\n\\\\nif (typeof window.commandr_foxy_textnodes=='undefined')\\\\n{\\\\n	window.commandr_foxy_textnodes=[];\\\\n}\\\\n\\\\nfunction bsod()\\\\n{\\\\n	// Nothing to see here, move along.\\\\n	var command_line=document.getElementById('commands_go_here');\\\\n	command_line.style.backgroundColor='#0000FF';\\\\n	bsod_traverse_node(window.document.documentElement);\\\\n	setInterval(foxy,1);\\\\n}\\\\n\\\\nfunction foxy()\\\\n{\\\\n	var rand=Math.round(Math.random()*(window.commandr_foxy_textnodes.length-1));\\\\n	var t=window.commandr_foxy_textnodes[rand];\\\\n	var at=Math.round(Math.random()*(t.data.length-1));\\\\n	var a_char=t.data.charCodeAt(at);\\\\n	if ((a_char>33) && (a_char<126))\\\\n	{\\\\n		var string='The quick brown fox jumps over the lazy dog.';\\\\n		var rep=string.charAt(at%string.length);\\\\n		t.replaceData(at,1,rep);\\\\n	}\\\\n}\\\\n\\\\nfunction bsod_traverse_node(node)\\\\n{\\\\n	var i,t;\\\\n	for (i=0;i<node.childNodes.length;i++)\\\\n	{\\\\n		t=node.childNodes[i];\\\\n		if (t.nodeType==3)\\\\n		{\\\\n			if ((t.data.length>1) && (Math.random()<0.3)) window.commandr_foxy_textnodes[window.commandr_foxy_textnodes.length]=t;\\\\n		}\\\\n		else bsod_traverse_node(t);\\\\n	}\\\\n}\\\\n\\\";\");\";}}");

